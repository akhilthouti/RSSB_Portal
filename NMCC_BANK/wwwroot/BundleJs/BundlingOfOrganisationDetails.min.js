function pass(){var n=document.getElementById("Password"),t=document.getElementById("init_eye");n.type==="password"?(n.type="text",$("i").removeClass("fa-eye-slash"),$("i").addClass("fa-eye")):(n.type="password",$("i").removeClass("fa-eye"),$("i").addClass("fa-eye-slash"))}function OTPQEMobileAuthenticate(){$("#DIGIbag").show();var n=$("#QEMobileauth").val(),t=$("#QEMobilecode").val();if($(".hello").hide(),$(".hell").css("display","block"),$("#otp").hide(),$("#QEMobileauth").val(""),$(""),n=="")return swal("Enter valid OTP..."),!1;if(n.length>6)return swal("Enter 6 digit Valid OTP..."),$("#QEMobileauth").val(""),!1;$.ajax({url:"/KYCQuickEnroll/QEMobileOTPAuthenticate",type:"GET",data:{OTP:n,MobileNumber:t},cache:!1,success:function(n){$("#DIGIbag").hide();n=="Verified Successfully"?(swal("Verified Successfully"),$("#DigiCerti").hide(),window.location.href="/OrgnisationDashBoard/MainDashboard"):n=="You have reached the maximum number of attempts.\n Please try again after 10 minutes."?swal({title:n,confirmButtonClass:"btn-danger",confirmButtonText:"ok"},function(n){n&&(window.location.href="/OrganisationLogin/OrganisationDetails")}):(swal(n),$("#emailauth").val(""),$("#QEMobileVerify").hide(),$("#QEisMobileVerify").hide(),$("#QEAuthMobileGetOtp").show())}})}function closeQEMobile(){$("#otp_div").css("display","none")}function QEGetMobileOTP(){$("#DigiCerti").html("<div style='position: fixed;z-index: 5000;float: left;right: 50%;height: 50px;width: 50px;top:40%;'><i class='fa fa-pulse fa-fw dgldr ldrdesign' style='height:70px;width:70px;border-radius:50%;border-bottom:5px dotted grey;border-top:5px dotted black;border-right:5px dotted black;border-left:5px dotted black;height:80px;width:80px;position:absolute;margin: 20% 50%;'><\/i><\/div>");$("#DigiCerti").show();$("#DIGIbag").show();var n=$("#QEMobilecode").val(),t=n.substr(6,11),i=document.getElementById("text").innerHTML=`RSSB has sent a temporary OTP to your Registered Mobile No(Valid for 10 mins).`;$(".init_email").show();$.ajax({url:"/KYCQuickEnroll/QEMoblieOTPSend",type:"POST",data:{MobileNumber:n},cache:!1,success:function(n){$("#DigiCerti").hide();$("#DIGIbag").hide();n!=null?($(".init_mail").show(),$("#QEMobileGetOtp").html("RESEND OTP"),$("#QEMobileGetOtp").prop("disabled",!0),setTimeout(function(){$("#QEMobileGetOtp").prop("disabled",!1)},6e5)):swal("OTP does not send.try again..")}})}function AgentLogin(){var n,i;$("#DigiCerti").html("<div style='position: fixed;z-index: 5000;float: left;right: 50%;height: 50px;width: 50px;top:40%;'><i class='fa fa-pulse fa-fw dgldr ldrdesign' style='height:70px;width:70px;border-radius:50%;border-bottom:5px dotted grey;border-top:5px dotted black;border-right:5px dotted black;border-left:5px dotted black;height:80px;width:80px;position:absolute;margin: 20% 50%;'><\/i><\/div>");$("#DigiCerti").show();n=$("#UserId").val();const t=$("#Password").val(),r=encryptText(t,encryptionKey,IV);if($("#UserId").val()==""&&$("#Password").val()=="")return $("#DigiCerti").hide(),swal("Please Enter Valid UserID Or Password"),!1;if($("#UserId").val()=="")return $("#DigiCerti").hide(),swal("Please Enter Valid UserID"),!1;if($("#Password").val()=="")return $("#DigiCerti").hide(),swal("Please Enter Valid Password "),!1;if(t.indexOf(" ")!=-1)return $("#DigiCerti").hide(),swal("Password should not contain spaces."),!1;if($("#UserCaptchaCode").val()==""||$("#UserCaptchaCode").val()==null||$("#UserCaptchaCode").val()=="undefined")return swal("Please Enter Code Given In a Picture."),$("#UserCaptchaCode").val(""),$("#UserCaptchaCode").focus(),$("#otp_div").css("display","none"),$("#DigiCerti").hide(),!1;i=ValidateCaptcha();i==!1?(IsAllowed=!1,$("#WrongCaptchaError").text("Captcha value doesn't match").show(),$("#UserCaptchaCode").val(""),$("#otp_div").css("display","none"),CreateCaptcha(),$("#UserCaptchaCode").focus().select(),$("#DigiCerti").hide()):(IsAllowed=!0,$("#WrongCaptchaError").fadeOut(100),$("#SuccessMessage").fadeIn(500).css("display","block").delay(5e3).fadeOut(250),$.ajax({url:"/OrganisationLogin/OrganisationDetails",type:"POST",data:{userId:n,Password:r},cache:!1,success:function(n){var i=n.split(",")[0];const r=n.split(",")[1],u=encryptText(r,encryptionKey,IV);var t=n.split(",")[2],f=n.split(",")[3],e=n.split(",")[4],o=n.split(",")[5];i=="Success"?t=="true"||t=="True"?ActivLogin(f,e,o):($("#QEMobilecode").hide(),QEGetMobileOTP(),swal("User Verified Successfully"),$("#DigiCerti").hide(),$("#QEMobilecode").val(u),$("#otp_div").show()):n=="Attempt1"?($("#DigiCerti").hide(),swal({title:"Incorrect UserID Or Password",text:"You Have Only 2 Attempts Remaining",type:"warning",showCancelButton:!1,confirmButtonColor:"#DD6B55",confirmButtonText:"OK",closeOnConfirm:!0,closeOnCancel:!0},function(n){n&&($("#DigiCerti").hide(),window.location.href="/OrganisationLogin/OrganisationDetails")})):n=="Attempt2"?($("#DigiCerti").hide(),swal({title:"Incorrect UserID Or Password",text:"You Have Only 1 Attempts Remaining",type:"warning",showCancelButton:!1,confirmButtonColor:"#DD6B55",confirmButtonText:"OK",closeOnConfirm:!0,closeOnCancel:!0},function(n){n&&($("#DigiCerti").hide(),window.location.href="/OrganisationLogin/OrganisationDetails")})):n=="Locked"?($("#DigiCerti").hide(),swal({title:"Youâ€™ve reached the maximum login attempts .",text:"Your Account Has Been Locked",text:"Please Contact Admin For Help!",type:"warning",showCancelButton:!1,confirmButtonColor:"#DD6B55",confirmButtonText:"OK",closeOnConfirm:!0,closeOnCancel:!0},function(n){n&&($("#DigiCerti").hide(),window.location.href="/OrganisationLogin/OrganisationDetails")})):n=="OTP Based Locked"?($("#DigiCerti").hide(),swal({title:"Your Account Has Been Locked",text:"Please try again after 10 minutes.",type:"warning",showCancelButton:!1,confirmButtonColor:"#DD6B55",confirmButtonText:"OK",closeOnConfirm:!0,closeOnCancel:!0},function(n){n&&($("#DigiCerti").hide(),window.location.href="/OrganisationLogin/OrganisationDetails")})):n=="Invalid Credentials"?($("#DigiCerti").hide(),swal({title:"Please Enter Valid UserID OR Password",type:"warning",showCancelButton:!1,confirmButtonColor:"#DD6B55",confirmButtonText:"OK",closeOnConfirm:!0,closeOnCancel:!0},function(n){n&&($("#DigiCerti").hide(),window.location.href="/OrganisationLogin/OrganisationDetails")})):($("#DigiCerti").hide(),swal({title:"Please Enter Valid UserID OR Password",type:"warning",showCancelButton:!1,confirmButtonColor:"#DD6B55",confirmButtonText:"OK",closeOnConfirm:!0,closeOnCancel:!0},function(n){n&&($("#DigiCerti").hide(),window.location.href="/OrganisationLogin/OrganisationDetails")}))}}))}function CreateCaptcha(){var n=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9"],r;for($("#UserCaptchaCode").val(""),r=0;r<6;r++)var f=n[Math.floor(Math.random()*n.length)],e=n[Math.floor(Math.random()*n.length)],i=n[Math.floor(Math.random()*n.length)],o=n[Math.floor(Math.random()*n.length)],s=n[Math.floor(Math.random()*n.length)],h=n[Math.floor(Math.random()*n.length)];cd=f+" "+e+" "+i+" "+o+" "+s+" "+h;$("#CaptchaImageCode").empty().append('<canvas id="CapCode" class="capcode" width="300" height="80"><\/canvas>');var i=document.getElementById("CapCode"),t=i.getContext("2d"),c=i.width/2,u=new Image;u.src="https://webdevtrick.com/wp-content/uploads/captchaback.jpg";u.onload=function(){var n=t.createPattern(u,"repeat");t.fillStyle=n;t.fillRect(0,0,i.width,i.height);t.font="46px Roboto Slab";t.fillStyle="#dc3545";t.textAlign="center";t.setTransform(1,-.12,0,1,0,15);t.fillText(cd,c,55)}}function ValidateCaptcha(){var n=removeSpaces(cd),t=removeSpaces($("#UserCaptchaCode").val());return n==t?!0:!1}function removeSpaces(n){return n.split(" ").join("")}function CheckCaptcha(){var n=ValidateCaptcha();$("#UserCaptchaCode").val()==""||$("#UserCaptchaCode").val()==null||$("#UserCaptchaCode").val()=="undefined"?($("#UserCaptchaCode").val(""),$("#UserCaptchaCode").focus(),$("#otp_div").css("display","none")):n==!1?(IsAllowed=!1,$("#WrongCaptchaError").text("Captcha value doesn't match").show(),$("#UserCaptchaCode").val(""),$("#otp_div").css("display","none"),CreateCaptcha(),$("#UserCaptchaCode").focus().select()):(IsAllowed=!0,$("#WrongCaptchaError").fadeOut(100),$("#SuccessMessage").fadeIn(500).css("display","block").delay(5e3).fadeOut(250),$("#otp_div").css("display","block"),$("#otp_div").show(),$("#UserCaptchaCode").val(""),swal("User Verified Successfully"),QEGetMobileOTP())}function encryptText(n,t,i){const r=CryptoJS.enc.Utf8.parse(t),u=CryptoJS.enc.Utf8.parse(i),f=CryptoJS.TripleDES.encrypt(n,r,{iv:u,mode:CryptoJS.mode.CBC,padding:CryptoJS.pad.Pkcs7});return f.toString()}function decryptText(n,t,i){const r=CryptoJS.enc.Utf8.parse(t),u=CryptoJS.enc.Utf8.parse(i),f=CryptoJS.TripleDES.decrypt(n,r,{iv:u,mode:CryptoJS.mode.CBC,padding:CryptoJS.pad.Pkcs7});return f.toString(CryptoJS.enc.Utf8)}function test(){AgentLogin()}function QEMobileAuth(){$("#DigiCerti").html("<div style='position: fixed;z-index: 5000;float: left;right: 50%;height: 50px;width: 50px;top:40%;'><i class='fa fa-pulse fa-fw dgldr ldrdesign' style='height:70px;width:70px;border-radius:50%;border-bottom:5px dotted grey;border-top:5px dotted black;border-right:5px dotted black;border-left:5px dotted black;height:80px;width:80px;position:absolute;margin: 20% 50%;'><\/i><\/div>");$("#DigiCerti").show();$("#DIGIbag").show();$("#DigiCerti").hide();$("#DIGIbag").hide();$("#DigiCerti").hide();$("#Mobileform").show();$("#Mobilecode").val}function ActivLogin(){swal({title:"User Already Logged In ",confirmButtonClass:"btn-danger",showCancelButton:!0,confirmButtonText:"Close This Session",closeOnConfirm:!1,closeOnCancel:!1},function(n){n?swal({title:"Previous User Is Logout Now,Login Again",confirmButtonClass:"btn-danger",confirmButtonText:"ok"},function(){$.ajax({url:"/OrganisationLogin/Logout",type:"GET",cache:!1,success:function(n){n=="Logout"&&(window.location.href="/OrganisationLogin/OrganisationDetails")}})}):window.location.href="/OrganisationLogin/OrganisationDetails"})}var cd,IsAllowed=!1;$(document).ready(function(){CreateCaptcha()});